<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Data-Structures Assignments: assignment-18/library.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Data-Structures Assignments
   </div>
   <div id="projectbrief">My homework for the class in data-structures</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_39608fcf94168223447c5930b83af211.html">assignment-18</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">library.h File Reference<div class="ingroups"><a class="el" href="group__exercises.html">Programming exercises (14 and 18)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This file defines functions and data-structures for working with a make-believe library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="printable_8h_source.html">printable.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="printable__string_8h_source.html">printable_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hashtable_8h_source.html">hashtable.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="list_8h_source.html">list.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="query_8h_source.html">query.h</a>&quot;</code><br />
</div>
<p><a href="library_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprintable__library.html">printable_library</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct conains all information about the library.  <a href="structprintable__library.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprintable__patron.html">printable_patron</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct represents a patron (library user).  <a href="structprintable__patron.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2ff2a43d0cc9d114c2cf9ab006d7bc38"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structprintable__library.html">printable_library</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a></td></tr>
<tr class="separator:a2ff2a43d0cc9d114c2cf9ab006d7bc38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672c181b78db62421522321aa68bbeb5"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structprintable__patron.html">printable_patron</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a672c181b78db62421522321aa68bbeb5">patron</a></td></tr>
<tr class="separator:a672c181b78db62421522321aa68bbeb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cfdd7e7e7ad1252b96646b8cebc58b7"><td class="memItemLeft" align="right" valign="top">typedef char *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a8cfdd7e7e7ad1252b96646b8cebc58b7">query_handler_fn</a>) (<a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>, <a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a>)</td></tr>
<tr class="memdesc:a8cfdd7e7e7ad1252b96646b8cebc58b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class of functions for handling queries generated through interaction with the user.  <a href="#a8cfdd7e7e7ad1252b96646b8cebc58b7">More...</a><br /></td></tr>
<tr class="separator:a8cfdd7e7e7ad1252b96646b8cebc58b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad92d3b58d986d231ff8cf7ef238d8726"><td class="memItemLeft" align="right" valign="top"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#ad92d3b58d986d231ff8cf7ef238d8726">make_library</a> ()</td></tr>
<tr class="memdesc:ad92d3b58d986d231ff8cf7ef238d8726"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new instance of library.  <a href="#ad92d3b58d986d231ff8cf7ef238d8726">More...</a><br /></td></tr>
<tr class="separator:ad92d3b58d986d231ff8cf7ef238d8726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa239194b46531fbb611a724ebfca36a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#aa239194b46531fbb611a724ebfca36a9">get_library</a> ()</td></tr>
<tr class="memdesc:aa239194b46531fbb611a724ebfca36a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns one pre-existing library.  <a href="#aa239194b46531fbb611a724ebfca36a9">More...</a><br /></td></tr>
<tr class="separator:aa239194b46531fbb611a724ebfca36a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8644d796164df7266eeb8c65f216aae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="library_8h.html#a672c181b78db62421522321aa68bbeb5">patron</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#af8644d796164df7266eeb8c65f216aae">make_patron</a> (char *name, char *id)</td></tr>
<tr class="memdesc:af8644d796164df7266eeb8c65f216aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an instance of <code>patron</code>.  <a href="#af8644d796164df7266eeb8c65f216aae">More...</a><br /></td></tr>
<tr class="separator:af8644d796164df7266eeb8c65f216aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a424fc7105f634024fd9bfa83591ba37e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a424fc7105f634024fd9bfa83591ba37e">library_add_book</a> (<a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a> lib, <a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a> q)</td></tr>
<tr class="memdesc:a424fc7105f634024fd9bfa83591ba37e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds new book to the default library.  <a href="#a424fc7105f634024fd9bfa83591ba37e">More...</a><br /></td></tr>
<tr class="separator:a424fc7105f634024fd9bfa83591ba37e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b5c7bc666b16274d3f9bdf105685fc1"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a0b5c7bc666b16274d3f9bdf105685fc1">library_list_books</a> (<a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a> lib, <a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a> q)</td></tr>
<tr class="memdesc:a0b5c7bc666b16274d3f9bdf105685fc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print all books borrowed by the given patron.  <a href="#a0b5c7bc666b16274d3f9bdf105685fc1">More...</a><br /></td></tr>
<tr class="separator:a0b5c7bc666b16274d3f9bdf105685fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add3aad7d645d08c68507f28510d16ebb"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#add3aad7d645d08c68507f28510d16ebb">library_join</a> (<a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a> lib, <a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a> q)</td></tr>
<tr class="memdesc:add3aad7d645d08c68507f28510d16ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add patron to the library.  <a href="#add3aad7d645d08c68507f28510d16ebb">More...</a><br /></td></tr>
<tr class="separator:add3aad7d645d08c68507f28510d16ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3aa52f428f2cc087f3319a134351e75"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#aa3aa52f428f2cc087f3319a134351e75">library_leave</a> (<a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a> lib, <a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a> q)</td></tr>
<tr class="memdesc:aa3aa52f428f2cc087f3319a134351e75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove patron from the library.  <a href="#aa3aa52f428f2cc087f3319a134351e75">More...</a><br /></td></tr>
<tr class="separator:aa3aa52f428f2cc087f3319a134351e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a266174d239a2770f5a8ae2d79999e8b7"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a266174d239a2770f5a8ae2d79999e8b7">library_borrow</a> (<a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a> lib, <a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a> q)</td></tr>
<tr class="memdesc:a266174d239a2770f5a8ae2d79999e8b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Borrow a book from the library.  <a href="#a266174d239a2770f5a8ae2d79999e8b7">More...</a><br /></td></tr>
<tr class="separator:a266174d239a2770f5a8ae2d79999e8b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45e476c3972d8b95e44a8722e8d8260a"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a45e476c3972d8b95e44a8722e8d8260a">library_return</a> (<a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a> lib, <a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a> q)</td></tr>
<tr class="memdesc:a45e476c3972d8b95e44a8722e8d8260a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the book to the library.  <a href="#a45e476c3972d8b95e44a8722e8d8260a">More...</a><br /></td></tr>
<tr class="separator:a45e476c3972d8b95e44a8722e8d8260a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a7f05e48c7dc397773491a6032a019"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a47a7f05e48c7dc397773491a6032a019">library_who_borrows</a> (<a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a> lib, <a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a> q)</td></tr>
<tr class="memdesc:a47a7f05e48c7dc397773491a6032a019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the patron who borrowed the given book.  <a href="#a47a7f05e48c7dc397773491a6032a019">More...</a><br /></td></tr>
<tr class="separator:a47a7f05e48c7dc397773491a6032a019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a979cf76ecebfb2caf0f1b1f1bd28f818"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a979cf76ecebfb2caf0f1b1f1bd28f818">library_borrows_most</a> (<a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a> lib, <a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a> q)</td></tr>
<tr class="memdesc:a979cf76ecebfb2caf0f1b1f1bd28f818"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the patron who currently borrows most books.  <a href="#a979cf76ecebfb2caf0f1b1f1bd28f818">More...</a><br /></td></tr>
<tr class="separator:a979cf76ecebfb2caf0f1b1f1bd28f818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0888744cd74062dc5ab4806c088082"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#acf0888744cd74062dc5ab4806c088082">library_show</a> (<a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a> lib, <a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a> q)</td></tr>
<tr class="memdesc:acf0888744cd74062dc5ab4806c088082"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows the contenst of the given library.  <a href="#acf0888744cd74062dc5ab4806c088082">More...</a><br /></td></tr>
<tr class="separator:acf0888744cd74062dc5ab4806c088082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34344cb7977c81273a76933dfe7a65a1"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a34344cb7977c81273a76933dfe7a65a1">to_string_library</a> (<a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a> lib)</td></tr>
<tr class="memdesc:a34344cb7977c81273a76933dfe7a65a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <code>to_string</code> for <code>library</code>.  <a href="#a34344cb7977c81273a76933dfe7a65a1">More...</a><br /></td></tr>
<tr class="separator:a34344cb7977c81273a76933dfe7a65a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a439cf7c6df3e2d16816d273b417eb8dd"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a439cf7c6df3e2d16816d273b417eb8dd">to_string_patron</a> (<a class="el" href="library_8h.html#a672c181b78db62421522321aa68bbeb5">patron</a> p)</td></tr>
<tr class="memdesc:a439cf7c6df3e2d16816d273b417eb8dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <code>to_string</code> for <code>patron</code>.  <a href="#a439cf7c6df3e2d16816d273b417eb8dd">More...</a><br /></td></tr>
<tr class="separator:a439cf7c6df3e2d16816d273b417eb8dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721a258178dd01ea0d8ab5fa974b8d34"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a721a258178dd01ea0d8ab5fa974b8d34">compare_patrons</a> (const void *a, const void *b)</td></tr>
<tr class="memdesc:a721a258178dd01ea0d8ab5fa974b8d34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <code>comparison_fn_t</code> to compare patrons by their id.  <a href="#a721a258178dd01ea0d8ab5fa974b8d34">More...</a><br /></td></tr>
<tr class="separator:a721a258178dd01ea0d8ab5fa974b8d34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file defines functions and data-structures for working with a make-believe library. </p>
<p>This file contains declarations needed to support the following operations on library and its patrons:</p><ul>
<li>adding books to the library.</li>
<li>adding patrons to the library.</li>
<li>removing patrons from the library.</li>
<li>borrowing books.</li>
<li>returning books.</li>
<li>printing diagnostic info and querying the state of the database.</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Oleg Sivokon</dd></dl>
<dl class="section date"><dt>Date</dt><dd>2016/03/05</dd></dl>
<p>Contact: <a href="#" onclick="location.href='mai'+'lto:'+'ole'+'gs'+'ivo'+'ko'+'n@g'+'ma'+'il.'+'co'+'m'; return false;">olegs<span style="display: none;">.nosp@m.</span>ivok<span style="display: none;">.nosp@m.</span>on@gm<span style="display: none;">.nosp@m.</span>ail.<span style="display: none;">.nosp@m.</span>com</a> </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a2ff2a43d0cc9d114c2cf9ab006d7bc38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structprintable__library.html">printable_library</a>* <a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a672c181b78db62421522321aa68bbeb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structprintable__patron.html">printable_patron</a>* <a class="el" href="library_8h.html#a672c181b78db62421522321aa68bbeb5">patron</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8cfdd7e7e7ad1252b96646b8cebc58b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">query_handler_fn</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A class of functions for handling queries generated through interaction with the user. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a721a258178dd01ea0d8ab5fa974b8d34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int compare_patrons </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation of <code>comparison_fn_t</code> to compare patrons by their id. </p>
<p>Compares patron's id in lexicographical order (similar to <code>strcmp</code>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>A pointer to patron to be compared.</td></tr>
    <tr><td class="paramname">b</td><td>A pointer to patron to be compared.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Values sutable for various sorting fucntions (negative when a &lt; b, positive when b &lt; a and zero when they are equal). </dd></dl>

</div>
</div>
<a class="anchor" id="aa239194b46531fbb611a724ebfca36a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a> get_library </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns one pre-existing library. </p>
<p>There is one statically allocated instance of library which is used by default when interacting with the parser, however, it is not initialized immediately when the program starts due to complicated initializing routine, this is why you need to call this function whenever you access it.</p>
<dl class="section return"><dt>Returns</dt><dd>The default instance of library. </dd></dl>

</div>
</div>
<a class="anchor" id="a424fc7105f634024fd9bfa83591ba37e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* library_add_book </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>&#160;</td>
          <td class="paramname"><em>lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a>&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds new book to the default library. </p>
<p>In case the book with the given id already exists in the library, the book will not be duplicated, however, the new default owner will be added to the existing book.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lib</td><td>The library to add the book to.</td></tr>
    <tr><td class="paramname">q</td><td>The <code>query</code> containing information about the book to add. This query must set field <code>book_id</code>. Other fields are not accessed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message indicating the fate of the book (whether it was added or not). </dd></dl>

</div>
</div>
<a class="anchor" id="a266174d239a2770f5a8ae2d79999e8b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* library_borrow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>&#160;</td>
          <td class="paramname"><em>lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a>&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Borrow a book from the library. </p>
<p>Several condition must hold in order for this action to succeed:</p><ul>
<li>Specified patron must be registered in this library.</li>
<li>The book must exist in the library.</li>
<li>The book must be available for taking.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lib</td><td>The library to borrow the book from.</td></tr>
    <tr><td class="paramname">q</td><td>The query specifying which book to borrow. This query must set fields <code>id</code> and <code>book_id</code>. It should be optional to set <code>patron</code>, but it may be accessed in this fucntion.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message indicating the success of the action. </dd></dl>

</div>
</div>
<a class="anchor" id="a979cf76ecebfb2caf0f1b1f1bd28f818"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* library_borrows_most </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>&#160;</td>
          <td class="paramname"><em>lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a>&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for the patron who currently borrows most books. </p>
<p>It is possible that no books have been borrowed from the library, in which case the message returned will reflect that.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lib</td><td>The library to search.</td></tr>
    <tr><td class="paramname">q</td><td>The query struct. This parameter is ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message indicating whether the action succeeded. </dd></dl>

</div>
</div>
<a class="anchor" id="add3aad7d645d08c68507f28510d16ebb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* library_join </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>&#160;</td>
          <td class="paramname"><em>lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a>&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add patron to the library. </p>
<p>Patrons with the same <code>id</code> and <code>patron</code> (name) cannot join the library.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lib</td><td>The library to add the given patron to.</td></tr>
    <tr><td class="paramname">q</td><td>The <code>query</code> specifying the details of the patron being added. The query must set <code>patron</code> and <code>id</code> fields.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message indicating whether the action succeeded. The action may fail if such patron already is registered in the library. </dd></dl>

</div>
</div>
<a class="anchor" id="aa3aa52f428f2cc087f3319a134351e75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* library_leave </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>&#160;</td>
          <td class="paramname"><em>lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a>&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove patron from the library. </p>
<p>Patrons cannot be removed from the library while they holding books.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lib</td><td>The library to remove the patron from.</td></tr>
    <tr><td class="paramname">q</td><td>The query specifying the patron to remove. The query must set <code>id</code> field. The <code>patron</code> field may be accessed while processing the query, but it should be optional.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message indicating the success status of the action. The action may fail because the patron still holds books from the library, or because the patron has never been registered in the library. </dd></dl>

</div>
</div>
<a class="anchor" id="a0b5c7bc666b16274d3f9bdf105685fc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* library_list_books </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>&#160;</td>
          <td class="paramname"><em>lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a>&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print all books borrowed by the given patron. </p>
<p>In case multiple copies of the same book were borrowed by the same patron, all copies will appear in the printed response.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lib</td><td>The library to look for the patron whose books are being requested.</td></tr>
    <tr><td class="paramname">q</td><td>The <code>query</code> containing information about the patron in question. This query must set field <code>id</code>. The field <code>patron</code> may be accessed, but it should be possible not to set it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message indicating whether retrieving the requested information succeeded. The retrieval may fail due to patron not being registered in the given library. </dd></dl>

</div>
</div>
<a class="anchor" id="a45e476c3972d8b95e44a8722e8d8260a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* library_return </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>&#160;</td>
          <td class="paramname"><em>lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a>&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the book to the library. </p>
<p>Multiple conditions must hold for this action to succeed:</p><ul>
<li>The book must exist in the library.</li>
<li>The patron returning the book must be registered in the library.</li>
<li>The book must be borrowed by the patron returning it.</li>
</ul>
<p>As the result of this action no new books are added to the library. The library changes status of the book (i.e. ownership) if this action goes through.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lib</td><td>The library the book is being returned to.</td></tr>
    <tr><td class="paramname">q</td><td>The query specifying which book to return. The query must set <code>id</code> and <code>book_id</code> fields, however, the <code>patron</code> field may be accessed too.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message indicating the success of the action. </dd></dl>

</div>
</div>
<a class="anchor" id="acf0888744cd74062dc5ab4806c088082"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* library_show </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>&#160;</td>
          <td class="paramname"><em>lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a>&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shows the contenst of the given library. </p>
<p>Since <code>library</code> embeds <code>printable</code>, it provides an implementation of <code>to_string</code> method. This method (which </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="library_8h.html#a34344cb7977c81273a76933dfe7a65a1" title="Implementation of to_string for library. ">to_string_library</a>) is designed to print all relevant information.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lib</td><td>The library being printed.</td></tr>
    <tr><td class="paramname">q</td><td>The query struct. This parameter is ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message containing the printout of <code>lib</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="a47a7f05e48c7dc397773491a6032a019"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* library_who_borrows </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>&#160;</td>
          <td class="paramname"><em>lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="query_8h.html#a476bfd3a13b61cc198a5a6907eb9f143">query</a>&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for the patron who borrowed the given book. </p>
<p>This action assumes that the book being looked up exists in the library, that the patron who borrowed it is registered in the library and that this patron did, in fact, borrow it. Since the books with the same <code>book_id</code> cannot be distinguished, the function produces a list of patrons rather than a single answer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lib</td><td>The library to look up the book in.</td></tr>
    <tr><td class="paramname">q</td><td>The query specifying the book to look up. The query must set <code>book_id</code> field.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message indicating the success of the action. Note that in case of multiple patrons borrowing the same book, all of them are printed. </dd></dl>

</div>
</div>
<a class="anchor" id="ad92d3b58d986d231ff8cf7ef238d8726"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a> make_library </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new instance of library. </p>

</div>
</div>
<a class="anchor" id="af8644d796164df7266eeb8c65f216aae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="library_8h.html#a672c181b78db62421522321aa68bbeb5">patron</a> make_patron </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an instance of <code>patron</code>. </p>
<p>Patrons aren't automatically added to the library. Once you call this function you also must make sure the patron is added to the library. It is also possible that the patron with the <code>name</code> and <code>id</code> had already been created. In this case, adding to library will not be possible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the patron being created. Names need not be unique.</td></tr>
    <tr><td class="paramname">id</td><td>The unique identifier for patrons. While you can create multiple patrons with the same <code>id</code>, only one of them can be added to the <code>library</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Newly created <code>patron</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="a34344cb7977c81273a76933dfe7a65a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* to_string_library </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="library_8h.html#a2ff2a43d0cc9d114c2cf9ab006d7bc38">library</a>&#160;</td>
          <td class="paramname"><em>lib</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation of <code>to_string</code> for <code>library</code>. </p>
<p>Prints readably the contents of the library.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lib</td><td>The <code>library</code> being printed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a439cf7c6df3e2d16816d273b417eb8dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* to_string_patron </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="library_8h.html#a672c181b78db62421522321aa68bbeb5">patron</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation of <code>to_string</code> for <code>patron</code>. </p>
<p>Prints readably the contents of the patron.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The <code>patron</code> being printed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
